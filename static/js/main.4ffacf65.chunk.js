(this["webpackJsonpusa-counties-choropleth-map-quantile"]=this["webpackJsonpusa-counties-choropleth-map-quantile"]||[]).push([[0],{192:function(e,t,a){e.exports=a(381)},199:function(e,t,a){},381:function(e,t,a){"use strict";a.r(t);var n=a(9),c=a(1),o=a.n(c),s=a(63),l=a.n(s),r=a(162),u=(a(199),a(26)),i=a(388);function m(e){return e<0?0:e}var f=Object(c.memo)((function(e){for(var t=e.cases.map((function(e){return m(e)})),a=e.deaths.map((function(e){return m(e)})),n=e.columns,c=e.column_deaths,s=n.length-1,l=e.column_deaths.length-1,r=0;r<t.length;r++)4===t[r].countyFIPS.length&&(t[r].countyFIPS="0"+t[r].countyFIPS),r<a.length&&4===a[r].countyFIPS.length&&(a[r].countyFIPS="0"+a[r].countyFIPS);var f=Object(i.a)().domain([0,5,10,50,100,500,1e3,5e3,Number.MAX_SAFE_INTEGER]).range(["#FFF2F2","#FFE5E5","#FFC6C6","#FFAAAA","#FF6868","#FD4646","#FF0F00","#FF0000","#A70000"]);return o.a.createElement("div",{className:"map"},o.a.createElement(u.ComposableMap,{"data-tip":"",projection:"geoAlbersUsa"},o.a.createElement(u.ZoomableGroup,{zoom:1},o.a.createElement(u.Geographies,{geography:"https://cdn.jsdelivr.net/npm/us-atlas@3/states-10m.json"},(function(e){var t=e.geographies;return o.a.createElement(o.a.Fragment,null,t.map((function(e){return o.a.createElement(u.Geography,{key:e.rsmKey,stroke:"#000",fill:"#FFF",geography:e})})),");")})),o.a.createElement(u.Geographies,{geography:"https://cdn.jsdelivr.net/npm/us-atlas@3/counties-10m.json"},(function(r){return r.geographies.map((function(r){var i=t.find((function(e){return e.countyFIPS===r.id})),m=a.find((function(e){return e.countyFIPS===r.id})),h=0,d=0;return void 0!==i&&void 0!==m&&(h=i[n[s]]-i[n[s-1]],d=m[c[l]]-m[c[l-1]]),o.a.createElement(u.Geography,{id:r.id,key:r.rsmKey,geography:r,fill:i?f(h):"#EEE",onMouseEnter:function(){void 0!==i&&e.setTooltipContent(i["County Name"]+", "+i.State+"<br/> New Cases: "+h+"<br/> New Deaths: "+d)},onMouseLeave:function(){e.setTooltipContent("")},style:{hover:{fill:"#FFFFFF",outline:"none"},pressed:{fill:"#E42",outline:"none"}}})}))})))),o.a.createElement("div",{className:"info"},"Retrieved from ",o.a.createElement("a",{href:"https://usafacts.org/visualizations/coronavirus-covid-19-spread-map/"},"usafacts.org")," ",o.a.createElement("br",null),"New confirmed cases as of: ",n[s]))})),h=a(48),d=a(16),p=function(e){for(var t=[],a=4;a<e.columns.length;a++){var n=e.collegeData[e.columns[a]];n<0&&(n=0),t.push({date:e.columns[a],Cases:Math.round(100*n)/100})}return o.a.createElement("div",{className:"graph"},o.a.createElement("h3",null,e.name),o.a.createElement(d.e,{width:"95%",height:"95%"},o.a.createElement(d.d,{data:t},o.a.createElement(d.c,{dataKey:"Cases",fill:"#8884d8",dot:!1}),o.a.createElement(d.a,null),o.a.createElement(d.g,{dataKey:"date",height:50},o.a.createElement(d.b,{value:"Date",position:"insideBottom"})),o.a.createElement(d.h,{label:{offset:10,value:"Cases",angle:-90,position:"insideLeft",textAnchor:"middle"}}),o.a.createElement(d.f,null))))},g=function(e){var t=e.deaths,a=e.cases,s=e.columns,l=Object(c.useState)(!1),r=Object(n.a)(l,2),u=r[0],i=r[1],m=Object(c.useState)([]),f=Object(n.a)(m,2),d=f[0],g=f[1],v=Object(c.useState)([]),E=Object(n.a)(v,2),b=E[0],F=E[1],j=Object(c.useState)(""),y=Object(n.a)(j,2),O=y[0],S=y[1],C=Object(c.useState)([]),N=Object(n.a)(C,2),w=N[0],I=N[1],D=Object(c.useState)([]),P=Object(n.a)(D,2),A=P[0],_=P[1],L=Object(c.useState)(""),M=Object(n.a)(L,2),k=M[0],G=M[1];function K(e){for(var t={},a=11;a<s.length;a++){for(var n=[],c=a-7;c<a;c++)e[s[c]]-e[s[c-1]]<0||4===c?n.push(0):n.push(e[s[c]]-e[s[c-1]]);t[s[a]]=n.reduce((function(e,t){return e+t}))/n.length}return t}function T(e){for(var t={},a=4;a<s.length;a++)t[s[a]]=4===a?e[s[a]]:e[s[a]]-e[s[a-1]];return t}return Object(c.useEffect)((function(){Object(h.a)("https://raw.githubusercontent.com/KincentLan/covid-19/master/public/colleges.csv").then((function(e){var t=[];e.forEach((function(e){t.push(e.college)})),g(t),F(e)}))}),[]),o.a.createElement("div",{className:"search-div"},o.a.createElement("input",{type:"search",autoComplete:"on",list:"options",className:"search",onChange:function(e){return function(e){G(e.target.value);var n=b.find((function(t){return t.college.toLowerCase()===e.target.value.toLowerCase()}));null!=n?(S(n),I(a.find((function(e){return parseInt(e.countyFIPS)===parseInt(n.countyFIPS)}))),_(t.find((function(e){return parseInt(e.countyFIPS)===parseInt(n.countyFIPS)}))),i(!0)):i(!1)}(e)},placeholder:"Type to search for your college.",value:k}),o.a.createElement("datalist",{id:"options"},d.filter((function(e){return e.toLowerCase().includes(k.toLowerCase())})).slice(0,10).map((function(e,t){return o.a.createElement("option",{className:"option",key:t,tabIndex:"0"},e)}))),u&&o.a.createElement("div",{className:"college"},o.a.createElement("h1",null,O.college),o.a.createElement("h2",null,w["County Name"]+", "+O.state),o.a.createElement("h3",null,"New confirmed cases in ",w["County Name"]," as of ",s[s.length-1],": ",w[s[s.length-1]]-w[s[s.length-2]]," confirmed cases"),o.a.createElement("div",{className:"float-container"},o.a.createElement(p,{name:"Daily New Cases",collegeData:T(w),columns:s}),o.a.createElement(p,{name:"Seven-Day Moving Average (New Cases)",collegeData:K(w),columns:s})),o.a.createElement("div",{className:"float-container"},o.a.createElement(p,{name:"Daily New Deaths",collegeData:T(A),columns:s}),o.a.createElement(p,{name:"Seven-Day Moving Average (New Deaths)",collegeData:K(A),columns:s})),o.a.createElement("div",{className:"float-container"},o.a.createElement(p,{name:"Cumulative Cases",collegeData:w,columns:s}),o.a.createElement(p,{name:"Cumulative Deaths",collegeData:A,columns:s}))))};function v(){var e=Object(c.useState)([]),t=Object(n.a)(e,2),a=t[0],s=t[1],l=Object(c.useState)([]),u=Object(n.a)(l,2),i=u[0],m=u[1],d=Object(c.useState)([]),p=Object(n.a)(d,2),v=p[0],E=p[1],b=Object(c.useState)([]),F=Object(n.a)(b,2),j=F[0],y=F[1],O=Object(c.useState)(""),S=Object(n.a)(O,2),C=S[0],N=S[1];return Object(c.useEffect)((function(){Object(h.a)("https://usafactsstatic.blob.core.windows.net/public/data/covid-19/covid_confirmed_usafacts.csv").then((function(e){s(e),E(e.columns)}))}),[]),Object(c.useEffect)((function(){Object(h.a)("https://usafactsstatic.blob.core.windows.net/public/data/covid-19/covid_deaths_usafacts.csv").then((function(e){m(e),y(e.columns)}))}),[]),o.a.createElement("div",null,o.a.createElement(f,{column_deaths:j,columns:v,cases:a,deaths:i,setTooltipContent:N}),o.a.createElement(r.a,{html:!0},C),o.a.createElement(g,{column_deaths:j,columns:v,cases:a,deaths:i}))}var E=document.getElementById("root");l.a.render(o.a.createElement(v,null),E)}},[[192,1,2]]]);
//# sourceMappingURL=main.4ffacf65.chunk.js.map