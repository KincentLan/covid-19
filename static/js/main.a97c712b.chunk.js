(this["webpackJsonpusa-counties-choropleth-map-quantile"]=this["webpackJsonpusa-counties-choropleth-map-quantile"]||[]).push([[0],{46:function(e,t,a){e.exports=a(58)},54:function(e,t,a){},58:function(e,t,a){"use strict";a.r(t);var n=a(5),c=a(0),r=a.n(c),o=a(37),s=a.n(o),l=a(40),u=(a(54),a(12)),i=a(67),m=a(22),d=Object(c.memo)((function(e){var t=e.setTooltipContent,a=Object(c.useState)([]),o=Object(n.a)(a,2),s=o[0],l=o[1],d=Object(c.useState)([]),p=Object(n.a)(d,2),f=p[0],h=p[1];Object(c.useEffect)((function(){Object(m.a)("https://usafactsstatic.blob.core.windows.net/public/data/covid-19/covid_confirmed_usafacts.csv").then((function(e){l(e),h(e.columns)}))}),[]);for(var b=0;b<s.length;b++)4===s[b].countyFIPS.length&&(s[b].countyFIPS="0"+s[b].countyFIPS);var g=Object(i.a)().domain([0,5,10,50,100,500,1e3,5e3,Number.MAX_SAFE_INTEGER]).range(["#FFF2F2","#FFE5E5","#FFC6C6","#FFAAAA","#FF6868","#FD4646","#FF0F00","#FF0000","#A70000"]);return r.a.createElement("div",{className:"map"},r.a.createElement(u.ComposableMap,{"data-tip":"",projection:"geoAlbersUsa"},r.a.createElement(u.ZoomableGroup,{zoom:1},r.a.createElement(u.Geographies,{geography:"https://cdn.jsdelivr.net/npm/us-atlas@3/states-10m.json"},(function(e){var t=e.geographies;return r.a.createElement(r.a.Fragment,null,t.map((function(e){return r.a.createElement(u.Geography,{key:e.rsmKey,stroke:"#000",fill:"#FFF",geography:e})})),");")})),r.a.createElement(u.Geographies,{geography:"https://cdn.jsdelivr.net/npm/us-atlas@3/counties-10m.json"},(function(e){return e.geographies.map((function(e){var a=s.find((function(t){return t.countyFIPS===e.id}));return r.a.createElement(u.Geography,{id:e.id,key:e.rsmKey,geography:e,fill:a?g(a[f[f.length-1]]-a[f[f.length-2]]):"#EEE",onMouseEnter:function(){if(null!=a){var e=a[f[f.length-1]]-a[f[f.length-2]];t(a["County Name"]+", "+a.State+"<br/> New Cases: "+e)}},onMouseLeave:function(){t("")},style:{hover:{fill:"#FFFFFF",outline:"none"},pressed:{fill:"#E42",outline:"none"}}})}))})))),r.a.createElement("div",{className:"info"},"Retrieved from ",r.a.createElement("a",{href:"https://usafacts.org/visualizations/coronavirus-covid-19-spread-map/"},"usafacts.org")," ",r.a.createElement("br",null),"New confirmed cases as of: ",f[f.length-1]))})),p=a(27),f=a(76),h=a(75),b=a(74),g=a(72),v=a(73),j=a(31),E=a(77),O=function(){var e=Object(c.useState)(!1),t=Object(n.a)(e,2),a=t[0],o=t[1],s=Object(c.useState)([]),l=Object(n.a)(s,2),u=l[0],i=l[1],d=Object(c.useState)([]),O=Object(n.a)(d,2),y=O[0],F=O[1],N=Object(c.useState)(""),w=Object(n.a)(N,2),x=w[0],S=w[1],C=Object(c.useState)([]),_=Object(n.a)(C,2),A=_[0],k=_[1],I=Object(c.useState)([]),G=Object(n.a)(I,2),L=G[0],M=G[1],P=Object(c.useState)([]),D=Object(n.a)(P,2),T=D[0],K=D[1],q=Object(c.useState)(""),z=Object(n.a)(q,2),B=z[0],J=z[1];function R(e,t,a,n,c,r,o,s,l){var u=Object(p.a)(r).append("svg").attr("viewBox","0 0 500 500").append("g"),i=Object(h.a)().domain(Object(g.a)(o,(function(e){return e.date}))).range([0,e]);u.append("g").attr("class","axis").attr("transform","translate(0,"+(t+a)+")").call(Object(j.a)(i).ticks(7).tickFormat(Object(f.a)("%m/%d")));var m=Object(b.a)().domain([0,10*Math.floor(Object(v.a)(o,(function(e){return e.value}))/10)+10]).range([t+a,2*a]);u.append("g").attr("class","axis").call(Object(j.b)(m)),u.append("path").datum(o).attr("fill","none").attr("stroke","#69b3a2").attr("stroke-width",1.5).attr("d",Object(E.a)().x((function(e){return i(e.date)})).y((function(e){return m(e.value)}))),u.append("text").attr("transform","rotate(-90)").attr("y",-3.5*a).attr("x",-t/2).attr("dy","1em").style("text-anchor","middle").text(n),u.append("text").attr("x",e/2).attr("y",t+3.5*a).style("text-anchor","middle").text(c),u.append("text").attr("x",e/2).attr("y",a).style("text-anchor","middle").text(l),u.append("g").selectAll("dot").data(o).enter().append("circle").attr("cx",(function(e){return i(e.date)})).attr("cy",(function(e){return m(e.value)})).attr("r",5).attr("fill","#69b3a2")}return Object(c.useEffect)((function(){Object(m.a)("https://raw.githubusercontent.com/KincentLan/covid-19/master/public/colleges.csv").then((function(e){var t=[];e.forEach((function(e){t.push(e.college)})),i(t),F(e)}))}),[]),Object(c.useEffect)((function(){Object(m.a)("https://usafactsstatic.blob.core.windows.net/public/data/covid-19/covid_confirmed_usafacts.csv").then((function(e){M(e),K(e.columns)}))}),[]),Object(c.useEffect)((function(){if(null!=A&&null!=T){for(var e=[],t=[],a=[],n=T.length-7;n<T.length;n++){for(var c=[],r=n-7;r<n;r++)c.push(A[T[r]]-A[T[r-1]]);var o=c.reduce((function(e,t){return e+t}))/c.length;t.push({date:Object(f.b)("%m/%d/%Y")(T[n]+"20"),value:o}),a.push(T[n]+"20"),e.push({date:Object(f.b)("%m/%d/%Y")(T[n]+"20"),value:A[T[n]]-A[T[n-1]]})}R(400,400,20,"New Cases","Date","#daily_cases",e,0,"Daily New Cases"),R(400,400,20,"Average New Cases","Date","#seven_day_avg",t,0,"7-Day Moving Average")}})),r.a.createElement("div",{className:"search-div"},r.a.createElement("input",{type:"search",autoComplete:"on",list:"options",className:"search",onChange:function(e){return function(e){J(e.target.value);var t=y.find((function(t){return t.college.toLowerCase()===e.target.value.toLowerCase()}));null!=t?(S(t),k(L.find((function(e){return e.countyFIPS===t.countyFIPS}))),o(!0)):o(!1)}(e)},placeholder:"Type to search for your college.",value:B}),r.a.createElement("datalist",{id:"options"},u.filter((function(e){return e.toLowerCase().includes(B.toLowerCase())})).slice(0,10).map((function(e,t){return r.a.createElement("option",{className:"option",key:t,tabIndex:"0"},e)}))),a&&r.a.createElement("div",{className:"college"},r.a.createElement("h1",null,x.college),r.a.createElement("h2",null,A["County Name"]+", "+x.state),r.a.createElement("h3",null,"New confirmed cases in ",A["County Name"]," as of ",T[T.length-1],": ",A[T[T.length-1]]-A[T[T.length-2]]," confirmed cases"),r.a.createElement("div",{className:"float-container"},r.a.createElement("div",{className:"graph"},r.a.createElement("svg",{id:"daily_cases"})),r.a.createElement("div",{className:"graph"},r.a.createElement("svg",{id:"seven_day_avg"})))))};function y(){var e=Object(c.useState)(""),t=Object(n.a)(e,2),a=t[0],o=t[1];return r.a.createElement("div",null,r.a.createElement(d,{setTooltipContent:o}),r.a.createElement(l.a,{html:!0},a),r.a.createElement(O,null))}var F=document.getElementById("root");s.a.render(r.a.createElement(y,null),F)}},[[46,1,2]]]);
//# sourceMappingURL=main.a97c712b.chunk.js.map