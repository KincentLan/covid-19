(this["webpackJsonpusa-counties-choropleth-map-quantile"]=this["webpackJsonpusa-counties-choropleth-map-quantile"]||[]).push([[0],{45:function(e,t,a){e.exports=a(57)},53:function(e,t,a){},57:function(e,t,a){"use strict";a.r(t);var n=a(5),c=a(0),r=a.n(c),o=a(36),s=a.n(o),l=a(39),u=(a(53),a(12)),i=a(66),m=a(21),d=Object(c.memo)((function(e){var t=e.setTooltipContent,a=Object(c.useState)([]),o=Object(n.a)(a,2),s=o[0],l=o[1],d=Object(c.useState)([]),p=Object(n.a)(d,2),f=p[0],h=p[1];Object(c.useEffect)((function(){Object(m.a)("https://usafactsstatic.blob.core.windows.net/public/data/covid-19/covid_confirmed_usafacts.csv").then((function(e){l(e),h(e.columns)}))}),[]);for(var b=0;b<s.length;b++)4===s[b].countyFIPS.length&&(s[b].countyFIPS="0"+s[b].countyFIPS);var g=Object(i.a)().domain([0,5,10,50,100,500,1e3,5e3,Number.MAX_SAFE_INTEGER]).range(["#FFF2F2","#FFE5E5","#FFC6C6","#FFAAAA","#FF6868","#FD4646","#FF0F00","#FF0000","#A70000"]);return r.a.createElement("div",{className:"map"},r.a.createElement(u.ComposableMap,{"data-tip":"",projection:"geoAlbersUsa"},r.a.createElement(u.ZoomableGroup,{zoom:1},r.a.createElement(u.Geographies,{geography:"https://cdn.jsdelivr.net/npm/us-atlas@3/states-10m.json"},(function(e){var t=e.geographies;return r.a.createElement(r.a.Fragment,null,t.map((function(e){return r.a.createElement(u.Geography,{key:e.rsmKey,stroke:"#000",fill:"#FFF",geography:e})})),");")})),r.a.createElement(u.Geographies,{geography:"https://cdn.jsdelivr.net/npm/us-atlas@3/counties-10m.json"},(function(e){return e.geographies.map((function(e){var a=s.find((function(t){return t.countyFIPS===e.id}));return r.a.createElement(u.Geography,{id:e.id,key:e.rsmKey,geography:e,fill:a?g(a[f[f.length-1]]-a[f[f.length-2]]):"#EEE",onMouseEnter:function(){if(null!=a){var e=a[f[f.length-1]]-a[f[f.length-2]];t(a["County Name"]+", "+a.State+"<br/> New Cases: "+e)}},onMouseLeave:function(){t("")},style:{hover:{fill:"#FFFFFF",outline:"none"},pressed:{fill:"#E42",outline:"none"}}})}))})))),r.a.createElement("div",{className:"info"},"Retrieved from ",r.a.createElement("a",{href:"https://usafacts.org/visualizations/coronavirus-covid-19-spread-map/"},"usafacts.org")," ",r.a.createElement("br",null),"New confirmed cases as of: ",f[f.length-1]))})),p=a(26),f=a(73),h=a(72),b=a(71),g=a(75),v=a(30),j=a(74),E=function(){var e=Object(c.useState)(!1),t=Object(n.a)(e,2),a=t[0],o=t[1],s=Object(c.useState)([]),l=Object(n.a)(s,2),u=l[0],i=l[1],d=Object(c.useState)([]),E=Object(n.a)(d,2),O=E[0],y=E[1],F=Object(c.useState)(""),N=Object(n.a)(F,2),w=N[0],x=N[1],S=Object(c.useState)([]),C=Object(n.a)(S,2),_=C[0],A=C[1],k=Object(c.useState)([]),I=Object(n.a)(k,2),G=I[0],L=I[1],P=Object(c.useState)([]),D=Object(n.a)(P,2),M=D[0],T=D[1],K=Object(c.useState)(""),q=Object(n.a)(K,2),z=q[0],B=q[1];function J(e,t,a,n,c,r,o,s,l){var u=Object(p.a)(r).append("svg").attr("viewBox","0 0 500 500").append("g"),i=Object(h.a)().domain(Object(g.a)(o,(function(e){return e.date}))).range([0,e]);u.append("g").attr("class","axis").attr("transform","translate(0,"+(t+a)+")").call(Object(v.a)(i).ticks(7).tickFormat(Object(f.a)("%m/%d")));var m=Object(b.a)().domain(Object(g.a)(o,(function(e){return e.value}))).range([t+a,2*a]);u.append("g").attr("class","axis").call(Object(v.b)(m)),u.append("path").datum(o).attr("fill","none").attr("stroke","#69b3a2").attr("stroke-width",1.5).attr("d",Object(j.a)().x((function(e){return i(e.date)})).y((function(e){return m(e.value)}))),u.append("text").attr("transform","rotate(-90)").attr("y",-3.5*a).attr("x",-t/2).attr("dy","1em").style("text-anchor","middle").text(n),u.append("text").attr("x",e/2).attr("y",t+3.5*a).style("text-anchor","middle").text(c),u.append("text").attr("x",e/2).attr("y",a).style("text-anchor","middle").text(l),u.append("g").selectAll("dot").data(o).enter().append("circle").attr("cx",(function(e){return i(e.date)})).attr("cy",(function(e){return m(e.value)})).attr("r",5).attr("fill","#69b3a2")}return Object(c.useEffect)((function(){Object(m.a)("https://raw.githubusercontent.com/KincentLan/covid-19/master/public/colleges.csv").then((function(e){var t=[];e.forEach((function(e){t.push(e.college)})),i(t),y(e)}))}),[]),Object(c.useEffect)((function(){Object(m.a)("https://usafactsstatic.blob.core.windows.net/public/data/covid-19/covid_confirmed_usafacts.csv").then((function(e){L(e),T(e.columns)}))}),[]),Object(c.useEffect)((function(){if(null!=_&&null!=M){for(var e=[],t=[],a=[],n=M.length-7;n<M.length;n++){for(var c=[],r=n-7;r<n;r++)c.push(_[M[r]]-_[M[r-1]]);var o=c.reduce((function(e,t){return e+t}))/c.length;t.push({date:Object(f.b)("%m/%d/%Y")(M[n]+"20"),value:o}),a.push(M[n]+"20"),e.push({date:Object(f.b)("%m/%d/%Y")(M[n]+"20"),value:_[M[n]]-_[M[n-1]]})}J(400,400,20,"New Cases","Date","#daily_cases",e,0,"Daily New Cases"),J(400,400,20,"Average New Cases","Date","#seven_day_avg",t,0,"7-Day Moving Average")}})),r.a.createElement("div",{className:"search-div"},r.a.createElement("input",{type:"search",autoComplete:"on",list:"options",className:"search",onChange:function(e){return function(e){B(e.target.value);var t=O.find((function(t){return t.college.toLowerCase()===e.target.value.toLowerCase()}));null!=t?(x(t),A(G.find((function(e){return e.countyFIPS===t.countyFIPS}))),o(!0)):o(!1)}(e)},placeholder:"Type to search for your college.",value:z}),r.a.createElement("datalist",{id:"options"},u.filter((function(e){return e.toLowerCase().includes(z.toLowerCase())})).slice(0,10).map((function(e,t){return r.a.createElement("option",{className:"option",key:t,tabIndex:"0"},e)}))),a&&r.a.createElement("div",{className:"college"},r.a.createElement("h1",null,w.college),r.a.createElement("h2",null,_["County Name"]+", "+w.state),r.a.createElement("h3",null,"New confirmed cases in ",_["County Name"]," as of ",M[M.length-1],": ",_[M[M.length-1]]-_[M[M.length-2]]," confirmed cases"),r.a.createElement("div",{className:"float-container"},r.a.createElement("div",{className:"graph"},r.a.createElement("svg",{id:"daily_cases"})),r.a.createElement("div",{className:"graph"},r.a.createElement("svg",{id:"seven_day_avg"})))))};function O(){var e=Object(c.useState)(""),t=Object(n.a)(e,2),a=t[0],o=t[1];return r.a.createElement("div",null,r.a.createElement(d,{setTooltipContent:o}),r.a.createElement(l.a,{html:!0},a),r.a.createElement(E,null))}var y=document.getElementById("root");s.a.render(r.a.createElement(O,null),y)}},[[45,1,2]]]);
//# sourceMappingURL=main.8cca8eec.chunk.js.map