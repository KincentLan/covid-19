(this["webpackJsonpusa-counties-choropleth-map-quantile"]=this["webpackJsonpusa-counties-choropleth-map-quantile"]||[]).push([[0],{192:function(e,t,a){e.exports=a(381)},199:function(e,t,a){},381:function(e,t,a){"use strict";a.r(t);var n=a(8),c=a(1),o=a.n(c),s=a(63),r=a.n(s),l=a(162),u=(a(199),a(26)),i=a(388);function m(e){return e<0?0:e}var f=Object(c.memo)((function(e){for(var t=e.cases.map((function(e){return m(e)})),a=e.deaths.map((function(e){return m(e)})),n=e.columns,c=e.column_deaths,s=n.length-1,r=e.column_deaths.length-1,l=0;l<t.length;l++)4===t[l].countyFIPS.length&&(t[l].countyFIPS="0"+t[l].countyFIPS),l<a.length&&4===a[l].countyFIPS.length&&(a[l].countyFIPS="0"+a[l].countyFIPS);var f=Object(i.a)().domain([0,5,10,50,100,500,1e3,5e3,Number.MAX_SAFE_INTEGER]).range(["#FFF2F2","#FFE5E5","#FFC6C6","#FFAAAA","#FF6868","#FD4646","#FF0F00","#FF0000","#A70000"]);return o.a.createElement("div",{className:"map"},o.a.createElement(u.ComposableMap,{"data-tip":"",projection:"geoAlbersUsa"},o.a.createElement(u.ZoomableGroup,{zoom:1},o.a.createElement(u.Geographies,{geography:"https://cdn.jsdelivr.net/npm/us-atlas@3/states-10m.json"},(function(e){var t=e.geographies;return o.a.createElement(o.a.Fragment,null,t.map((function(e){return o.a.createElement(u.Geography,{key:e.rsmKey,stroke:"#000",fill:"#FFF",geography:e})})),");")})),o.a.createElement(u.Geographies,{geography:"https://cdn.jsdelivr.net/npm/us-atlas@3/counties-10m.json"},(function(l){return l.geographies.map((function(l){var i=t.find((function(e){return e.countyFIPS===l.id})),m=a.find((function(e){return e.countyFIPS===l.id})),d=0,h=0;return void 0!==i&&void 0!==m&&(d=i[n[s]]-i[n[s-1]],h=m[c[r]]-m[c[r-1]]),o.a.createElement(u.Geography,{id:l.id,key:l.rsmKey,geography:l,fill:i?f(d):"#EEE",onMouseEnter:function(){void 0!==i&&e.setTooltipContent(i["County Name"]+", "+i.State+"<br/> New Cases: "+d+"<br/> New Deaths: "+h)},onMouseLeave:function(){e.setTooltipContent("")},style:{hover:{fill:"#FFFFFF",outline:"none"},pressed:{fill:"#E42",outline:"none"}}})}))})))),o.a.createElement("div",{className:"info"},"Retrieved from ",o.a.createElement("a",{href:"https://usafacts.org/visualizations/coronavirus-covid-19-spread-map/"},"usafacts.org")," ",o.a.createElement("br",null),"New confirmed cases as of: ",n[s]))})),d=a(44),h=a(16),p=function(e){for(var t=[],a=4;a<e.columns.length;a++){var n=e.collegeData[e.columns[a]];n<0&&(n=0),t.push({date:e.columns[a],Cases:Math.round(n)})}return o.a.createElement("div",{className:"graph"},o.a.createElement("h3",null,e.name),o.a.createElement(h.e,{width:"95%",height:"95%"},o.a.createElement(h.d,{data:t},o.a.createElement(h.c,{dataKey:"Cases",fill:"#8884d8",dot:!1}),o.a.createElement(h.a,null),o.a.createElement(h.g,{dataKey:"date",height:50},o.a.createElement(h.b,{value:"Date",position:"insideBottom"})),o.a.createElement(h.h,{label:{offset:10,value:"Cases",angle:-90,position:"insideLeft",textAnchor:"middle"}}),o.a.createElement(h.f,null))))},b=function(e){var t=Object(c.useState)(!1),a=Object(n.a)(t,2),s=a[0],r=a[1],l=Object(c.useState)([]),u=Object(n.a)(l,2),i=u[0],m=u[1],f=Object(c.useState)([]),h=Object(n.a)(f,2),b=h[0],g=h[1],v=Object(c.useState)(""),E=Object(n.a)(v,2),j=E[0],F=E[1],O=Object(c.useState)([]),y=Object(n.a)(O,2),S=y[0],C=y[1],w=Object(c.useState)([]),N=Object(n.a)(w,2),I=N[0],_=N[1],A=Object(c.useState)([]),P=Object(n.a)(A,2),D=P[0],L=P[1],k=Object(c.useState)(""),G=Object(n.a)(k,2),M=G[0],K=G[1];return Object(c.useEffect)((function(){Object(d.a)("https://raw.githubusercontent.com/KincentLan/covid-19/master/public/colleges.csv").then((function(e){var t=[];e.forEach((function(e){t.push(e.college)})),m(t),g(e)}))}),[]),Object(c.useEffect)((function(){Object(d.a)("https://usafactsstatic.blob.core.windows.net/public/data/covid-19/covid_confirmed_usafacts.csv").then((function(e){_(e),L(e.columns)}))}),[]),o.a.createElement("div",{className:"search-div"},o.a.createElement("input",{type:"search",autoComplete:"on",list:"options",className:"search",onChange:function(e){return function(e){K(e.target.value);var t=b.find((function(t){return t.college.toLowerCase()===e.target.value.toLowerCase()}));null!=t?(F(t),C(I.find((function(e){return e.countyFIPS===t.countyFIPS}))),r(!0)):r(!1)}(e)},placeholder:"Type to search for your college.",value:M}),o.a.createElement("datalist",{id:"options"},i.filter((function(e){return e.toLowerCase().includes(M.toLowerCase())})).slice(0,10).map((function(e,t){return o.a.createElement("option",{className:"option",key:t,tabIndex:"0"},e)}))),s&&o.a.createElement("div",{className:"college"},o.a.createElement("h1",null,j.college),o.a.createElement("h2",null,S["County Name"]+", "+j.state),o.a.createElement("h3",null,"New confirmed cases in ",S["County Name"]," as of ",D[D.length-1],": ",S[D[D.length-1]]-S[D[D.length-2]]," confirmed cases"),o.a.createElement("div",{className:"float-container"},o.a.createElement(p,{name:"Daily New Cases",collegeData:function(){for(var e={},t=4;t<D.length;t++)e[D[t]]=4===t?S[D[t]]:S[D[t]]-S[D[t-1]];return e}(),columns:D}),o.a.createElement(p,{name:"Seven-Day Moving Average",collegeData:function(){for(var e={},t=11;t<D.length;t++){for(var a=[],n=t-7;n<t;n++)S[D[n]]-S[D[n-1]]<0||4===n?a.push(0):a.push(S[D[n]]-S[D[n-1]]);e[D[t]]=a.reduce((function(e,t){return e+t}))/a.length}return e}(),columns:D}))))};function g(){var e=Object(c.useState)([]),t=Object(n.a)(e,2),a=t[0],s=t[1],r=Object(c.useState)([]),u=Object(n.a)(r,2),i=u[0],m=u[1],h=Object(c.useState)([]),p=Object(n.a)(h,2),g=p[0],v=p[1],E=Object(c.useState)([]),j=Object(n.a)(E,2),F=j[0],O=j[1],y=Object(c.useState)(""),S=Object(n.a)(y,2),C=S[0],w=S[1];return Object(c.useEffect)((function(){Object(d.a)("https://usafactsstatic.blob.core.windows.net/public/data/covid-19/covid_confirmed_usafacts.csv").then((function(e){s(e),v(e.columns)}))}),[]),Object(c.useEffect)((function(){Object(d.a)("https://usafactsstatic.blob.core.windows.net/public/data/covid-19/covid_deaths_usafacts.csv").then((function(e){m(e),O(e.columns)}))}),[]),o.a.createElement("div",null,o.a.createElement(f,{column_deaths:F,columns:g,cases:a,deaths:i,setTooltipContent:w}),o.a.createElement(l.a,{html:!0},C),o.a.createElement(b,{column_deaths:F,columns:g,cases:a,deaths:i}))}var v=document.getElementById("root");r.a.render(o.a.createElement(g,null),v)}},[[192,1,2]]]);
//# sourceMappingURL=main.2248fc08.chunk.js.map